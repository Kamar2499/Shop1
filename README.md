# Магазин одежды

Веб-приложение для онлайн-магазина одежды с поддержкой ролей пользователей (администратор, продавец, покупатель).

## Функциональность

- Регистрация и авторизация пользователей
- Три роли пользователей:
  - Администратор: управление пользователями и товарами
  - Продавец: добавление и управление своими товарами
  - Покупатель: просмотр товаров и управление корзиной
- Каталог товаров с фильтрацией
- Корзина покупок
- Цены в рублях
- Полностью русскоязычный интерфейс

## Технологии

- Next.js 14
- TypeScript
- Prisma (PostgreSQL)
- Tailwind CSS
- JWT для аутентификации

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd shop
```

2. Установите зависимости:
```bash
npm install
```

3. Создайте файл `.env` в корневой директории и добавьте следующие переменные:
```
DATABASE_URL="postgresql://user:password@localhost:5432/shop"
JWT_SECRET="your-secret-key"
```

4. Инициализируйте базу данных:
```bash
npx prisma migrate dev
```

5. Запустите приложение:
```bash
npm run dev
```

## Временные аккаунты для тестирования

### Администратор
- Email: admin@example.com
- Пароль: admin123

### Продавец
- Email: seller@example.com
- Пароль: seller123

### Покупатель
- Email: buyer@example.com
- Пароль: buyer123

## Структура проекта

- `/src/app` - Страницы приложения
- `/src/components` - React компоненты
- `/src/lib` - Утилиты и хелперы
- `/prisma` - Схема базы данных и миграции
- `/public` - Статические файлы

## API Endpoints

### Аутентификация
- POST `/api/auth/register` - Регистрация
- POST `/api/auth/login` - Вход

### Товары
- GET `/api/products` - Получение списка товаров
- POST `/api/products` - Создание товара (только для продавцов)
- GET `/api/products/seller` - Получение товаров продавца

### Корзина
- GET `/api/cart` - Получение корзины
- POST `/api/cart` - Добавление товара в корзину
- PATCH `/api/cart/items/:id` - Обновление количества
- DELETE `/api/cart/items/:id` - Удаление товара из корзины

### Администратор
- GET `/api/admin/users` - Получение списка пользователей
- PATCH `/api/admin/users/:id` - Обновление роли пользователя
- GET `/api/admin/products` - Получение всех товаров
